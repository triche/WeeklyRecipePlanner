<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weekly Menu Planner</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">

    <!-- Hero -->
    <header class="hero">
      <h1>Weekly Menu Planner</h1>
      <p>AI-powered weekly meal planner with macro tracking and shopping list generation. Uses OpenAI to create personalized 7-day meal plans based on your dietary preferences, restrictions, and macro goals.</p>
    </header>

    <!-- Features -->
    <section>
      <h2>Features</h2>
      <ul class="features">
        <li><strong>Macro-based meal planning</strong> Set daily targets for protein, carbs, fats, fiber, and calories</li>
        <li><strong>AI-generated plans</strong> Full 7-day meal plans with breakfast, lunch, dinner, and morning/afternoon snacks</li>
        <li><strong>Dietary preferences</strong> Support for restrictions (vegetarian, gluten-free, etc.) and favorite cuisines</li>
        <li><strong>No-repeat option</strong> Exclude last week's meals to keep things fresh</li>
        <li><strong>Consolidated shopping list</strong> Aggregated by category (Produce, Dairy, Meat &amp; Seafood, etc.)</li>
        <li><strong>Export options</strong> Copy shopping list to clipboard or download as Markdown</li>
        <li><strong>Free text input</strong> Provide any additional context for the AI to consider</li>
        <li><strong>Dockerized</strong> Run locally or deploy to any cloud platform</li>
      </ul>
    </section>

    <!-- Tech Stack -->
    <section>
      <h2>Tech Stack</h2>
      <table>
        <thead>
          <tr>
            <th>Layer</th>
            <th>Technology</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>Frontend</td><td>React 18, TypeScript, Vite</td></tr>
          <tr><td>Backend</td><td>Node.js, Express, TypeScript</td></tr>
          <tr><td>AI</td><td>OpenAI API (GPT-5.2 or later)</td></tr>
          <tr><td>Infra</td><td>Docker, Docker Compose, GitHub Actions</td></tr>
          <tr><td>Testing</td><td>Vitest, React Testing Library, Supertest</td></tr>
        </tbody>
      </table>
    </section>

    <!-- Getting Started -->
    <section>
      <h2>Getting Started</h2>

      <h3>Prerequisites</h3>
      <ul class="features" style="grid-template-columns: repeat(3, 1fr);">
        <li><strong>Node.js 20+</strong></li>
        <li><strong>npm</strong></li>
        <li><strong>OpenAI API key</strong></li>
      </ul>

      <h3>Setup</h3>
      <pre><code><span class="comment"># Clone the repository</span>
<span class="command">git clone &lt;repo-url&gt;</span>
<span class="command">cd WeeklyRecipePlanner</span>

<span class="comment"># Create your environment file</span>
<span class="command">cp .env.example .env</span>
<span class="comment"># Edit .env and add your OPENAI_API_KEY</span>

<span class="comment"># Install root dependencies</span>
<span class="command">npm install</span>

<span class="comment"># Install server dependencies</span>
<span class="command">cd server && npm install && cd ..</span>

<span class="comment"># Install client dependencies</span>
<span class="command">cd client && npm install && cd ..</span></code></pre>

      <h3>Development</h3>
      <pre><code><span class="comment"># Run both client and server in development mode</span>
<span class="command">npm run dev</span>

<span class="comment"># Or run them separately:</span>
<span class="command">npm run dev:server</span>   <span class="comment"># Backend on http://localhost:3001</span>
<span class="command">npm run dev:client</span>   <span class="comment"># Frontend on http://localhost:3000</span></code></pre>

      <h3>Testing</h3>
      <pre><code><span class="comment"># Run all tests</span>
<span class="command">npm test</span>

<span class="comment"># Run server tests only</span>
<span class="command">npm run test:server</span>

<span class="comment"># Run client tests only</span>
<span class="command">npm run test:client</span></code></pre>

      <h3>Linting</h3>
      <pre><code><span class="command">npm run lint</span></code></pre>

      <h3>Docker</h3>
      <pre><code><span class="comment"># Build and start all services</span>
<span class="command">docker-compose up --build</span>

<span class="comment"># Stop services</span>
<span class="command">docker-compose down</span></code></pre>

      <p>The app will be available at <code>http://localhost:3000</code> with the API at <code>http://localhost:3001</code>.</p>
    </section>

    <!-- Project Structure -->
    <section>
      <h2>Project Structure</h2>
      <div class="tree"><span class="folder">WeeklyRecipePlanner/</span>
├── <span class="folder">client/</span>                  <span class="note"># React frontend (Vite)</span>
│   ├── index.html
│   ├── <span class="folder">src/</span>
│   │   ├── <span class="folder">components/</span>      <span class="note"># React components</span>
│   │   │   ├── MealPlanForm.tsx
│   │   │   ├── MealPlanDisplay.tsx
│   │   │   ├── ShoppingListDisplay.tsx
│   │   │   └── TagInput.tsx
│   │   ├── <span class="folder">services/</span>        <span class="note"># API client</span>
│   │   ├── App.tsx
│   │   ├── App.css
│   │   └── types.ts
│   ├── vite.config.ts
│   ├── vitest.config.ts
│   ├── eslint.config.js
│   ├── Dockerfile
│   └── nginx.conf
├── <span class="folder">server/</span>                  <span class="note"># Express backend</span>
│   ├── <span class="folder">src/</span>
│   │   ├── <span class="folder">routes/</span>          <span class="note"># API route handlers</span>
│   │   ├── <span class="folder">services/</span>        <span class="note"># AI provider abstraction</span>
│   │   ├── app.ts           <span class="note"># Express app setup</span>
│   │   ├── config.ts        <span class="note"># Environment config</span>
│   │   ├── index.ts         <span class="note"># Server entry point</span>
│   │   └── types.ts         <span class="note"># Shared types &amp; Zod schemas</span>
│   └── Dockerfile
├── <span class="folder">docs/</span>
│   └── theory-of-operation.md
├── .github/workflows/ci.yml <span class="note"># CI pipeline</span>
├── docker-compose.yml
└── .env.example</div>
    </section>

    <!-- Environment Variables -->
    <section>
      <h2>Environment Variables</h2>
      <table>
        <thead>
          <tr>
            <th>Variable</th>
            <th>Required</th>
            <th>Default</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><code>OPENAI_API_KEY</code></td><td>Yes</td><td>—</td><td>Your OpenAI API key</td></tr>
          <tr><td><code>OPENAI_MODEL</code></td><td>No</td><td><code>gpt-5.2</code></td><td>OpenAI model to use</td></tr>
          <tr><td><code>PORT</code></td><td>No</td><td><code>3001</code></td><td>Server port</td></tr>
          <tr><td><code>NODE_ENV</code></td><td>No</td><td><code>development</code></td><td>Environment</td></tr>
          <tr><td><code>CORS_ORIGIN</code></td><td>No</td><td><code>http://localhost:3000</code></td><td>Allowed CORS origin</td></tr>
          <tr><td><code>VITE_API_URL</code></td><td>No</td><td><code>/api</code></td><td>Client API base URL</td></tr>
        </tbody>
      </table>
    </section>

    <!-- CI/CD -->
    <section>
      <h2>CI/CD</h2>
      <p>GitHub Actions runs on every pull request and push to <code>main</code>:</p>
      <ol>
        <li><strong>Server lint &amp; test</strong></li>
        <li><strong>Client lint &amp; test</strong></li>
        <li><strong>Docker build</strong> (after tests pass)</li>
      </ol>
    </section>

    <!-- License -->
    <section>
      <h2>License</h2>
      <p>See <a href="../LICENSE">LICENSE</a> for details.</p>
    </section>

    <footer class="footer">
      <p>Weekly Menu Planner &mdash; Built with React, Express &amp; OpenAI</p>
    </footer>

  </div>
</body>
</html>
